{"ast":null,"code":"import _objectSpread from\"C:/Users/ResTIC16/Desktop/gest-o-financeira/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{Plus,Search,DollarSign,Users,AlertCircle,CheckCircle,Clock,Filter,Edit,Trash2,Eye,Download,Mail,Send}from'lucide-react';import emailService from'./services/emailService';import{Settings}from'lucide-react';import{EmailSettingsModal}from'./components/EmailSettingsModal';import ClientEmailSettings from'./components/ClientEmailSettings';import DashboardAprimorado from'./components/dashboard/DashboardAprimorado';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const EmailManager=_ref=>{var _templates$find;let{clientes}=_ref;const[selectedTemplate,setSelectedTemplate]=useState('');const[subject,setSubject]=useState('');const[selectedClients,setSelectedClients]=useState([]);const[loading,setLoading]=useState(false);const templates=[{value:'primeira-cobranca',label:'Primeira Cobran√ßa (Notifica√ß√£o Inicial)',subject:'Notifica√ß√£o de Pend√™ncia Financeira - PROTEQ'},{value:'cobranca-7dias',label:'Cobran√ßa Leve (‚â• 7 dias de atraso)',subject:'Lembrete Amig√°vel: Pagamento em Atraso - PROTEQ'},{value:'cobranca-15dias',label:'Cobran√ßa Moderada (‚â• 15 dias de atraso)',subject:'‚ö†Ô∏è Importante: Regulariza√ß√£o Necess√°ria - PROTEQ'},{value:'cobranca-30dias',label:'Cobran√ßa Pesada (‚â• 30 dias de atraso)',subject:'üö® URGENTE: Notifica√ß√£o Final - PROTEQ'},{value:'solicitacao-contato',label:'Cliente entrar em contato',subject:'Entrar em contato conosco - PROTEQ'}];const sendEmails=async()=>{if(!selectedTemplate||!subject||selectedClients.length===0){alert('Por favor, preencha todos os campos e selecione pelo menos um cliente.');return;}// FUN√á√ïES AUXILIARES DENTRO DO sendEmails\nconst calcularStatus=cliente=>{if(cliente.valorPago>=cliente.valorTotal)return'pago';if(cliente.proximoVencimento&&new Date(cliente.proximoVencimento)<new Date())return'em_atraso';return'pendente';};const calcularDiasAtraso=dataVencimento=>{if(!dataVencimento)return 0;const hoje=new Date();const vencimento=new Date(dataVencimento);const diferenca=hoje-vencimento;return Math.max(0,Math.ceil(diferenca/(1000*60*60*24)));};const calcularParcelasEmAtraso=cliente=>{const status=calcularStatus(cliente);if(status!=='em_atraso')return 0;const parcelasRestantes=cliente.parcelas-cliente.parcelasPagas;const diasAtraso=calcularDiasAtraso(cliente.proximoVencimento);const parcelasAtrasadasEstimadas=Math.min(Math.ceil(diasAtraso/30),parcelasRestantes);return parcelasAtrasadasEstimadas||1;};setLoading(true);try{const recipients=selectedClients.map(id=>{const cliente=clientes.find(c=>c.id===id);const parcelasAtraso=calcularParcelasEmAtraso(cliente);const recipient={email:cliente.email||'cliente@exemplo.com',nomeResponsavel:cliente.nomeResponsavel,nomeEmpresa:cliente.nomeEmpresa,cnpj:cliente.cnpj||'N√£o informado',valorPendente:\"R$ \".concat((cliente.valorTotal-cliente.valorPago).toFixed(2).replace('.',',')),parcelasAtraso:parcelasAtraso>1?\"\".concat(parcelasAtraso,\" parcelas\"):'1 parcela',proximoVencimento:cliente.proximoVencimento||'N√£o informado',linkPagamento:cliente.linkPagamento||'#'// ‚Üê USA O LINK DO CLIENTE\n};// DEBUG\nconsole.log('===== FRONTEND =====');console.log('Cliente:',cliente.nomeEmpresa);console.log('CNPJ:',cliente.cnpj);console.log('Parcelas atraso:',parcelasAtraso);console.log('Recipient:',recipient);console.log('====================');return recipient;});console.log('üì§ PAYLOAD COMPLETO:',JSON.stringify({recipients,subject,template:selectedTemplate},null,2));const response=await emailService.sendBulkEmails({recipients,subject,template:selectedTemplate});if(response.success){alert(\"Emails enviados com sucesso!\\n\".concat(response.statistics.successful,\" enviados\\n\").concat(response.statistics.failed,\" falhas\\nTaxa de sucesso: \").concat(response.statistics.successRate));setSelectedClients([]);setSubject('');setSelectedTemplate('');}}catch(error){var _error$response,_error$response$data;alert('Erro ao enviar emails: '+(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message));}finally{setLoading(false);}};const handleTemplateChange=template=>{setSelectedTemplate(template);const templateData=templates.find(t=>t.value===template);if(templateData&&!subject){setSubject(templateData.subject);}};const handleClientToggle=clientId=>{if(selectedClients.includes(clientId)){setSelectedClients(selectedClients.filter(id=>id!==clientId));}else{setSelectedClients([...selectedClients,clientId]);}};const getClientStatus=cliente=>{if(cliente.valorPago>=cliente.valorTotal)return{text:'Pago',color:'bg-green-100 text-green-800'};if(cliente.proximoVencimento&&new Date(cliente.proximoVencimento)<new Date())return{text:'Em Atraso',color:'bg-red-100 text-red-800'};return{text:'Pendente',color:'bg-yellow-100 text-yellow-800'};};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-bold mb-4 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Mail,{className:\"w-5 h-5 text-purple-600\"}),\"Email Marketing\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 lg:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Template de Email:\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",value:selectedTemplate,onChange:e=>handleTemplateChange(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Selecione um template\"}),templates.map(template=>/*#__PURE__*/_jsx(\"option\",{value:template.value,children:template.label},template.value))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Assunto do Email:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\",value:subject,onChange:e=>setSubject(e.target.value),placeholder:\"Digite o assunto do email\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-2\",children:\"Selecionar Destinat\\xE1rios:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto\",children:clientes.length>0?clientes.map(cliente=>{const status=getClientStatus(cliente);return/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedClients.includes(cliente.id),onChange:()=>handleClientToggle(cliente.id)}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm flex-1\",children:[cliente.nomeResponsavel,\" - \",cliente.nomeEmpresa]}),/*#__PURE__*/_jsx(\"span\",{className:\"px-2 py-1 rounded-full text-xs font-medium \".concat(status.color),children:status.text})]},cliente.id);}):/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 text-center py-4\",children:\"Nenhum cliente cadastrado\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-500 mt-2\",children:[selectedClients.length,\" clientes selecionados\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:sendEmails,disabled:loading||!selectedTemplate||!subject||selectedClients.length===0,className:\"flex-1 bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\",children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"}):/*#__PURE__*/_jsx(Send,{className:\"w-4 h-4\"}),loading?'Enviando...':'Enviar Emails']}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setSelectedClients([]);setSubject('');setSelectedTemplate('');},className:\"px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\",children:\"Limpar\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-700 mb-3\",children:\"Estat\\xEDsticas:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Total de clientes:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-blue-600 ml-2\",children:clientes.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Selecionados:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-purple-600 ml-2\",children:selectedClients.length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Em atraso:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-red-600 ml-2\",children:clientes.filter(c=>c.proximoVencimento&&new Date(c.proximoVencimento)<new Date()).length})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"Pendentes:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-bold text-yellow-600 ml-2\",children:clientes.filter(c=>c.valorPago<c.valorTotal).length})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-blue-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-blue-800 mb-2\",children:\"Como usar:\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"text-sm text-blue-700 space-y-1\",children:[/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Escolha um template apropriado\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Personalize o assunto se necess\\xE1rio\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Selecione os clientes desejados\"}),/*#__PURE__*/_jsx(\"li\",{children:\"\\u2022 Clique em \\\"Enviar Emails\\\"\"})]})]}),selectedTemplate&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-green-50 p-4 rounded-lg\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-green-800 mb-2\",children:\"Template Selecionado:\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-green-700\",children:(_templates$find=templates.find(t=>t.value===selectedTemplate))===null||_templates$find===void 0?void 0:_templates$find.label})]})]})]})]});};const FinancialManager=()=>{const[showEmailSettings,setShowEmailSettings]=useState(false);const[abaAtiva,setAbaAtiva]=useState('dashboard');// Estado inicial vazio - ser√° carregado do localStorage\nconst[clientes,setClientes]=useState([]);const[filtros,setFiltros]=useState({status:'todos',busca:''});const[modalAberto,setModalAberto]=useState(false);const[modalPagamento,setModalPagamento]=useState(false);const[modalDetalhes,setModalDetalhes]=useState(false);const[modalConfirmacao,setModalConfirmacao]=useState(false);const[clienteEditando,setClienteEditando]=useState(null);const[clienteSelecionado,setClienteSelecionado]=useState(null);const[pagamentoForm,setPagamentoForm]=useState({valor:'',data:new Date().toISOString().split('T')[0],descricao:''});// Fun√ß√µes de formata√ß√£o\nconst formatarCNPJ=valor=>{// Remove tudo que n√£o √© n√∫mero\nconst numeros=valor.replace(/\\D/g,'');// Aplica a m√°scara XX.XXX.XXX/XXXX-XX\nif(numeros.length<=2)return numeros;if(numeros.length<=5)return numeros.replace(/(\\d{2})(\\d{0,3})/,'$1.$2');if(numeros.length<=8)return numeros.replace(/(\\d{2})(\\d{3})(\\d{0,3})/,'$1.$2.$3');if(numeros.length<=12)return numeros.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{0,4})/,'$1.$2.$3/$4');return numeros.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{0,2})/,'$1.$2.$3/$4-$5');};const formatarMoedaInput=valor=>{// Remove tudo que n√£o √© n√∫mero\nconst numeros=valor.replace(/\\D/g,'');// Converte para n√∫mero e divide por 100\nconst numero=parseFloat(numeros)/100;// Formata como moeda brasileira\nreturn numero.toLocaleString('pt-BR',{minimumFractionDigits:2,maximumFractionDigits:2});};const formatarValorParaEmail=valor=>{return valor.toLocaleString('pt-BR',{style:'currency',currency:'BRL'});};const parseMoedaParaNumero=valor=>{// Se j√° for n√∫mero, retorna direto\nif(typeof valor==='number')return valor;// Se for string vazia ou undefined, retorna 0\nif(!valor)return 0;// Remove pontos e substitui v√≠rgula por ponto\nreturn parseFloat(valor.toString().replace(/\\./g,'').replace(',','.'))||0;};const[novoCliente,setNovoCliente]=useState({nomeResponsavel:'',nomeEmpresa:'',email:'',telefone:'',valorTotal:'',parcelas:1,dataVenda:'',proximoVencimento:'',cnpj:'',codigoContrato:'',linkPagamento:'',// ‚Üê ADICIONAR\nobservacoes:''});// NOVO: Carregar dados salvos quando o componente inicia\nuseEffect(()=>{const dadosSalvos=localStorage.getItem('financial-manager-clientes');if(dadosSalvos){try{const clientesCarregados=JSON.parse(dadosSalvos);setClientes(clientesCarregados);console.log('Dados carregados do localStorage:',clientesCarregados.length,'clientes');}catch(error){console.error('Erro ao carregar dados salvos:',error);// Se der erro, usar dados exemplo\n}}else{}},[]);// NOVO: Salvar dados sempre que a lista de clientes mudar\nuseEffect(()=>{if(clientes.length>0){localStorage.setItem('financial-manager-clientes',JSON.stringify(clientes));console.log('Dados salvos no localStorage:',clientes.length,'clientes');}},[clientes]);const calcularStatus=cliente=>{if(cliente.valorPago>=cliente.valorTotal)return'pago';if(cliente.proximoVencimento&&new Date(cliente.proximoVencimento)<new Date())return'em_atraso';return'pendente';};const formatarMoeda=valor=>{return new Intl.NumberFormat('pt-BR',{style:'currency',currency:'BRL'}).format(valor);};const formatarData=data=>{return new Date(data).toLocaleDateString('pt-BR');};const calcularDiasAtraso=dataVencimento=>{if(!dataVencimento)return 0;const hoje=new Date();const vencimento=new Date(dataVencimento);const diferenca=hoje-vencimento;return Math.max(0,Math.ceil(diferenca/(1000*60*60*24)));};const calcularParcelasEmAtraso=cliente=>{const status=calcularStatus(cliente);if(status!=='em_atraso')return 0;const parcelasRestantes=cliente.parcelas-cliente.parcelasPagas;const diasAtraso=calcularDiasAtraso(cliente.proximoVencimento);// Calcula quantas parcelas atrasadas baseado em 30 dias por parcela\nconst parcelasAtrasadasEstimadas=Math.min(Math.ceil(diasAtraso/30),parcelasRestantes);return parcelasAtrasadasEstimadas||1;};const clientesFiltrados=clientes.filter(cliente=>{const status=calcularStatus(cliente);const statusFiltro=filtros.status==='todos'||status===filtros.status;const buscaFiltro=filtros.busca===''||cliente.nomeResponsavel.toLowerCase().includes(filtros.busca.toLowerCase())||cliente.nomeEmpresa.toLowerCase().includes(filtros.busca.toLowerCase());return statusFiltro&&buscaFiltro;});const totais={totalAReceber:clientes.reduce((acc,cliente)=>acc+(cliente.valorTotal-cliente.valorPago),0),totalRecebido:clientes.reduce((acc,cliente)=>acc+cliente.valorPago,0),clientesEmAtraso:clientes.filter(cliente=>calcularStatus(cliente)==='em_atraso').length,totalClientes:clientes.length};const adicionarCliente=()=>{if(!novoCliente.nomeResponsavel||!novoCliente.nomeEmpresa||!novoCliente.valorTotal){alert('Por favor, preencha os campos obrigat√≥rios');return;}const valorNumerico=parseMoedaParaNumero(novoCliente.valorTotal);// ‚Üê ADICIONAR\nconst valorParcela=valorNumerico/parseInt(novoCliente.parcelas);// ‚Üê MUDAR\nconst novoId=Math.max(...clientes.map(c=>c.id),0)+1;const cliente=_objectSpread(_objectSpread({},novoCliente),{},{id:novoId,valorTotal:valorNumerico,// ‚Üê MUDAR\nvalorPago:0,parcelasPagas:0,valorParcela:valorParcela,parcelas:parseInt(novoCliente.parcelas),historicosPagamentos:[]});setClientes([...clientes,cliente]);fecharModal();alert('Cliente adicionado e salvo com sucesso!');};const editarCliente=()=>{if(!clienteEditando.nomeResponsavel||!clienteEditando.nomeEmpresa||!clienteEditando.valorTotal){alert('Por favor, preencha os campos obrigat√≥rios');return;}// Se valorTotal j√° for n√∫mero, usa direto. Sen√£o, converte\nconst valorNumerico=typeof clienteEditando.valorTotal==='number'?clienteEditando.valorTotal:parseMoedaParaNumero(clienteEditando.valorTotal);const valorParcela=valorNumerico/parseInt(clienteEditando.parcelas);setClientes(clientes.map(cliente=>{if(cliente.id===clienteEditando.id){return _objectSpread(_objectSpread({},clienteEditando),{},{valorTotal:valorNumerico,valorParcela:valorParcela,parcelas:parseInt(clienteEditando.parcelas)});}return cliente;}));fecharModal();alert('Cliente editado e salvo com sucesso!');};const excluirCliente=()=>{setClientes(clientes.filter(cliente=>cliente.id!==clienteSelecionado.id));setModalConfirmacao(false);setClienteSelecionado(null);alert('Cliente exclu√≠do com sucesso!');};const registrarPagamento=()=>{const valorPago=parseFloat(pagamentoForm.valor);if(!valorPago||valorPago<=0){alert('Por favor, insira um valor v√°lido');return;}setClientes(clientes.map(cliente=>{if(cliente.id===clienteSelecionado.id){const novoValorPago=cliente.valorPago+valorPago;const novasParcelasPagas=Math.floor(novoValorPago/cliente.valorParcela);const novoHistorico=[...(cliente.historicosPagamentos||[]),{data:pagamentoForm.data,valor:valorPago,descricao:pagamentoForm.descricao||\"Pagamento - \".concat(formatarData(pagamentoForm.data))}];// CORRE√á√ÉO: Atualizar pr√≥ximo vencimento\nlet novoProximoVencimento=cliente.proximoVencimento;if(novasParcelasPagas>cliente.parcelasPagas&&cliente.proximoVencimento){const dataAtual=new Date(cliente.proximoVencimento);const parcelasPagasAMais=novasParcelasPagas-cliente.parcelasPagas;dataAtual.setDate(dataAtual.getDate()+30*parcelasPagasAMais);novoProximoVencimento=dataAtual.toISOString().split('T')[0];}return _objectSpread(_objectSpread({},cliente),{},{valorPago:novoValorPago,parcelasPagas:novasParcelasPagas,proximoVencimento:novoProximoVencimento,// ‚Üê LINHA ADICIONADA\nhistoricosPagamentos:novoHistorico});}return cliente;}));setModalPagamento(false);setPagamentoForm({valor:'',data:new Date().toISOString().split('T')[0],descricao:''});setClienteSelecionado(null);alert('Pagamento registrado e salvo com sucesso!');};const exportarRelatorio=()=>{// Preparar dados organizados\nconst relatorio=clientes.map(cliente=>({'ID':cliente.id,'Nome do Respons√°vel':cliente.nomeResponsavel,'Nome da Empresa':cliente.nomeEmpresa,'Email':cliente.email||'N√£o informado','Telefone':cliente.telefone||'N√£o informado','C√≥digo do Contrato':cliente.codigoContrato,'CNPJ':cliente.cnpj||'N√£o informado','Valor Total (R$)':cliente.valorTotal.toFixed(2).replace('.',','),'Valor Pago (R$)':cliente.valorPago.toFixed(2).replace('.',','),'Valor Restante (R$)':(cliente.valorTotal-cliente.valorPago).toFixed(2).replace('.',','),'Total de Parcelas':cliente.parcelas,'Parcelas Pagas':cliente.parcelasPagas,'Valor por Parcela (R$)':cliente.valorParcela.toFixed(2).replace('.',','),'Status':calcularStatus(cliente)==='pago'?'Pago':calcularStatus(cliente)==='em_atraso'?'Em Atraso':'Pendente','Data da Venda':cliente.dataVenda||'N√£o informado','Pr√≥ximo Vencimento':cliente.proximoVencimento||'N√£o informado','Dias em Atraso':calcularStatus(cliente)==='em_atraso'?calcularDiasAtraso(cliente.proximoVencimento):0,'Observa√ß√µes':cliente.observacoes||'Nenhuma'}));// Criar CSV bem formatado\nconst headers=Object.keys(relatorio[0]);const csvContent=[headers.join(';'),// Usar ; para melhor compatibilidade com Excel brasileiro\n...relatorio.map(row=>Object.values(row).map(value=>{// Tratar valores com aspas e quebras de linha\nconst stringValue=String(value).replace(/\"/g,'\"\"');return\"\\\"\".concat(stringValue,\"\\\"\");}).join(';'))].join('\\n');// Adicionar BOM para UTF-8 (resolve acentos no Excel)\nconst BOM='\\uFEFF';const blob=new Blob([BOM+csvContent],{type:'text/csv;charset=utf-8'});const url=window.URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download=\"relatorio-financeiro-\".concat(new Date().toISOString().split('T')[0],\".csv\");document.body.appendChild(a);a.click();document.body.removeChild(a);window.URL.revokeObjectURL(url);alert('Relat√≥rio exportado com sucesso!\\nO arquivo pode ser aberto no Excel ou Google Sheets.');};// NOVA fun√ß√£o para exportar direto para Google Sheets\nconst exportarGoogleSheets=()=>{const relatorio=clientes.map(cliente=>({'ID':cliente.id,'Nome do Respons√°vel':cliente.nomeResponsavel,'Nome da Empresa':cliente.nomeEmpresa,'Email':cliente.email||'N√£o informado','Telefone':cliente.telefone||'N√£o informado','CNPJ':cliente.cnpj||'N√£o informado','C√≥digo do Contrato':cliente.codigoContrato,'Valor Total':\"R$ \".concat(cliente.valorTotal.toFixed(2).replace('.',',')),'Valor Pago':\"R$ \".concat(cliente.valorPago.toFixed(2).replace('.',',')),'Valor Restante':\"R$ \".concat((cliente.valorTotal-cliente.valorPago).toFixed(2).replace('.',',')),'Parcelas':\"\".concat(cliente.parcelasPagas,\"/\").concat(cliente.parcelas),'Valor por Parcela':\"R$ \".concat(cliente.valorParcela.toFixed(2).replace('.',',')),'Status':calcularStatus(cliente)==='pago'?'Pago':calcularStatus(cliente)==='em_atraso'?'Em Atraso':'Pendente','Data da Venda':cliente.dataVenda||'N√£o informado','Pr√≥ximo Vencimento':cliente.proximoVencimento||'N√£o informado','Dias em Atraso':calcularStatus(cliente)==='em_atraso'?calcularDiasAtraso(cliente.proximoVencimento):0,'Observa√ß√µes':cliente.observacoes||'Nenhuma'}));// Converter para formato de tabela HTML\nconst headers=Object.keys(relatorio[0]);const htmlTable=\"\\n      <table border=\\\"1\\\" style=\\\"border-collapse: collapse; width: 100%;\\\">\\n        <thead>\\n          <tr style=\\\"background-color: #f0f0f0;\\\">\\n            \".concat(headers.map(header=>\"<th style=\\\"padding: 8px; text-align: left;\\\">\".concat(header,\"</th>\")).join(''),\"\\n          </tr>\\n        </thead>\\n        <tbody>\\n          \").concat(relatorio.map(row=>\"\\n            <tr>\\n              \".concat(Object.values(row).map(value=>\"<td style=\\\"padding: 8px;\\\">\".concat(value,\"</td>\")).join(''),\"\\n            </tr>\\n          \")).join(''),\"\\n        </tbody>\\n      </table>\\n    \");// Criar URL para Google Sheets\nconst encodedData=encodeURIComponent(htmlTable);const googleSheetsUrl=\"https://docs.google.com/spreadsheets/create?usp=sharing\";// Copiar dados para √°rea de transfer√™ncia\nnavigator.clipboard.writeText(relatorio.map(row=>Object.values(row).join('\\t')).join('\\n')).then(()=>{// Abrir Google Sheets em nova aba\nwindow.open(googleSheetsUrl,'_blank');alert(\"Dados copiados para \\xE1rea de transfer\\xEAncia!\\n\\nPassos para colar no Google Sheets:\\n1. Uma nova planilha do Google Sheets foi aberta\\n2. Clique na c\\xE9lula A1 \\n3. Pressione Ctrl+V (ou Cmd+V no Mac) para colar\\n4. Os dados ser\\xE3o organizados automaticamente nas colunas\\n\\nDica: Voc\\xEA pode formatar as colunas de valores como moeda depois de colar.\");}).catch(()=>{// Fallback se clipboard n√£o funcionar\nwindow.open(googleSheetsUrl,'_blank');alert('Google Sheets aberto em nova aba.\\nCopie e cole os dados manualmente da tabela atual.');});};const fecharModal=()=>{setModalAberto(false);setClienteEditando(null);setNovoCliente({nomeResponsavel:'',nomeEmpresa:'',email:'',cnpj:'',telefone:'',valorTotal:'',parcelas:1,dataVenda:'',proximoVencimento:'',codigoContrato:'',linkPagamento:'',// ‚Üê ADICIONAR\nobservacoes:''});};const getStatusColor=status=>{switch(status){case'pago':return'text-green-600 bg-green-100';case'em_atraso':return'text-red-600 bg-red-100';case'pendente':return'text-yellow-600 bg-yellow-100';default:return'text-gray-600 bg-gray-100';}};const getStatusIcon=status=>{switch(status){case'pago':return/*#__PURE__*/_jsx(CheckCircle,{className:\"w-4 h-4\"});case'em_atraso':return/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4\"});case'pendente':return/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4\"});default:return/*#__PURE__*/_jsx(Clock,{className:\"w-4 h-4\"});}};const getStatusText=status=>{switch(status){case'pago':return'Pago';case'em_atraso':return'Em Atraso';case'pendente':return'Pendente';default:return'Pendente';}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-50 p-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-gray-900\",children:\"Gerenciamento Financeiro\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600 mt-1\",children:\"Dados salvos automaticamente no navegador\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:exportarGoogleSheets,className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(\"svg\",{className:\"w-5 h-5\",fill:\"currentColor\",viewBox:\"0 0 24 24\",children:/*#__PURE__*/_jsx(\"path\",{d:\"M19.5 2.25h-15v19.5h15V2.25zm-1.5 1.5v3h-12v-3h12zm0 4.5v3h-4.5v-3H18zm-6 0v3h-6v-3h6zm6 4.5v3h-4.5v-3H18zm-6 0v3h-6v-3h6zm6 4.5v3h-12v-3h12z\"})}),\"Google Sheets\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:exportarRelatorio,className:\"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors\",children:[/*#__PURE__*/_jsx(Download,{className:\"w-5 h-5\"}),\"Exportar CSV\"]}),/*#__PURE__*/_jsx(EmailSettingsModal,{isOpen:showEmailSettings,onClose:()=>setShowEmailSettings(false)}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowEmailSettings(true),className:\"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors\",children:[/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"}),\"Config. Emails\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2 border-t pt-4 mb-6\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAbaAtiva('dashboard'),className:\"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors \".concat(abaAtiva==='dashboard'?'bg-blue-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:[/*#__PURE__*/_jsx(DollarSign,{className:\"w-5 h-5\"}),\"Dashboard\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setAbaAtiva('clientes'),className:\"flex items-center gap-2 px-4 py-2 rounded-lg transition-colors \".concat(abaAtiva==='clientes'?'bg-blue-600 text-white':'bg-gray-100 text-gray-700 hover:bg-gray-200'),children:[/*#__PURE__*/_jsx(Users,{className:\"w-5 h-5\"}),\"Clientes\"]})]}),abaAtiva==='dashboard'&&/*#__PURE__*/_jsx(DashboardAprimorado,{clientes:clientes}),abaAtiva==='clientes'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total a Receber\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-blue-600\",children:formatarMoeda(totais.totalAReceber)})]}),/*#__PURE__*/_jsx(DollarSign,{className:\"w-8 h-8 text-blue-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total Recebido\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-green-600\",children:formatarMoeda(totais.totalRecebido)})]}),/*#__PURE__*/_jsx(CheckCircle,{className:\"w-8 h-8 text-green-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md border-l-4 border-red-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Clientes em Atraso\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-red-600\",children:totais.clientesEmAtraso})]}),/*#__PURE__*/_jsx(AlertCircle,{className:\"w-8 h-8 text-red-600\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md border-l-4 border-gray-500\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:\"Total de Clientes\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-2xl font-bold text-gray-700\",children:totais.totalClientes})]}),/*#__PURE__*/_jsx(Users,{className:\"w-8 h-8 text-gray-700\"})]})})]}),/*#__PURE__*/_jsx(EmailManager,{clientes:clientes}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white p-6 rounded-lg shadow-md mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col md:flex-row gap-4 flex-1\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1 max-w-md\",children:[/*#__PURE__*/_jsx(Search,{className:\"w-5 h-5 absolute left-3 top-3 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Buscar por nome ou empresa...\",className:\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:filtros.busca,onChange:e=>setFiltros(_objectSpread(_objectSpread({},filtros),{},{busca:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(Filter,{className:\"w-5 h-5 text-gray-600\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\",value:filtros.status,onChange:e=>setFiltros(_objectSpread(_objectSpread({},filtros),{},{status:e.target.value})),children:[/*#__PURE__*/_jsx(\"option\",{value:\"todos\",children:\"Todos os Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pendente\",children:\"Pendente\"}),/*#__PURE__*/_jsx(\"option\",{value:\"em_atraso\",children:\"Em Atraso\"}),/*#__PURE__*/_jsx(\"option\",{value:\"pago\",children:\"Pago\"})]})]})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setModalAberto(true),className:\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-5 h-5\"}),\"Adicionar Cliente\"]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-md overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Cliente\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Contato\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"C\\xF3digo Contrato\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Valores\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Parcelas\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Pr\\xF3ximo Venc.\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"A\\xE7\\xF5es\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:clientesFiltrados.map(cliente=>{const status=calcularStatus(cliente);const diasAtraso=calcularDiasAtraso(cliente.proximoVencimento);return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:cliente.nomeResponsavel}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:cliente.nomeEmpresa})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:cliente.email}),/*#__PURE__*/_jsx(\"div\",{className:\"text-gray-500\",children:cliente.telefone})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:cliente.codigoContrato}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[\"Total: \",formatarMoeda(cliente.valorTotal)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-green-600\",children:[\"Pago: \",formatarMoeda(cliente.valorPago)]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-red-600\",children:[\"Restante: \",formatarMoeda(cliente.valorTotal-cliente.valorPago)]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-16 bg-gray-200 rounded-full h-2 mr-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-600 h-2 rounded-full\",style:{width:\"\".concat(Math.min(cliente.parcelasPagas/cliente.parcelas*100,100),\"%\")}})}),/*#__PURE__*/_jsxs(\"span\",{children:[cliente.parcelasPagas,\"/\",cliente.parcelas]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-xs text-gray-500 mt-1\",children:[formatarMoeda(cliente.valorParcela),\" cada\"]})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium \".concat(getStatusColor(status)),children:[getStatusIcon(status),getStatusText(status),status==='em_atraso'&&diasAtraso>0&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-1\",children:[\"(\",diasAtraso,\"d)\"]})]})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\",children:cliente.proximoVencimento?formatarData(cliente.proximoVencimento):'-'}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setClienteSelecionado(cliente);setModalDetalhes(true);},className:\"text-blue-600 hover:text-blue-900\",title:\"Ver detalhes\",children:/*#__PURE__*/_jsx(Eye,{className:\"w-4 h-4\"})}),status!=='pago'&&/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setClienteSelecionado(cliente);setPagamentoForm({valor:cliente.valorParcela.toString(),data:new Date().toISOString().split('T')[0],descricao:\"\".concat(cliente.parcelasPagas+1,\"\\xAA parcela\")});setModalPagamento(true);},className:\"text-green-600 hover:text-green-900\",title:\"Registrar pagamento\",children:/*#__PURE__*/_jsx(DollarSign,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setClienteEditando(_objectSpread({},cliente));setModalAberto(true);},className:\"text-yellow-600 hover:text-yellow-900\",title:\"Editar cliente\",children:/*#__PURE__*/_jsx(Edit,{className:\"w-4 h-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setClienteSelecionado(cliente);setModalConfirmacao(true);},className:\"text-red-600 hover:text-red-900\",title:\"Excluir cliente\",children:/*#__PURE__*/_jsx(Trash2,{className:\"w-4 h-4\"})})]})})]},cliente.id);})})]})}),clientesFiltrados.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(Users,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"Nenhum cliente encontrado\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Comece adicionando um novo cliente.\"})]})]})]}),modalAberto&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-6\",children:clienteEditando?'Editar Cliente':'Adicionar Novo Cliente'}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nome do Respons\\xE1vel *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.nomeResponsavel:novoCliente.nomeResponsavel,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{nomeResponsavel:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{nomeResponsavel:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Nome da Empresa *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.nomeEmpresa:novoCliente.nomeEmpresa,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{nomeEmpresa:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{nomeEmpresa:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"CNPJ\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"00.000.000/0000-00\",maxLength:\"18\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.cnpj||'':novoCliente.cnpj||'',onChange:e=>{const cnpjFormatado=formatarCNPJ(e.target.value);if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{cnpj:cnpjFormatado}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{cnpj:cnpjFormatado}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Email *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.email:novoCliente.email,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{email:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{email:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Telefone *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"tel\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.telefone:novoCliente.telefone,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{telefone:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{telefone:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"C\\xF3digo do Contrato *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Ex: CS 10.2025\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.codigoContrato:novoCliente.codigoContrato,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{codigoContrato:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{codigoContrato:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Link de Pagamento (Asaas)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",placeholder:\"https://www.asaas.com/c/...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.linkPagamento||'':novoCliente.linkPagamento||'',onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{linkPagamento:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{linkPagamento:valor}));}}}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Cole o link de cobran\\xE7a do Asaas\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Valor Total *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"absolute left-3 top-2.5 text-gray-500\",children:\"R$\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",placeholder:\"0,00\",value:clienteEditando?clienteEditando.valorTotal?formatarMoedaInput(clienteEditando.valorTotal.toString().replace(/\\D/g,'')):'':novoCliente.valorTotal||'',onChange:e=>{const valorFormatado=formatarMoedaInput(e.target.value);if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{valorTotal:valorFormatado}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{valorTotal:valorFormatado}));}}})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:\"Digite apenas n\\xFAmeros\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"N\\xFAmero de Parcelas *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.parcelas:novoCliente.parcelas,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{parcelas:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{parcelas:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Data da Venda *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.dataVenda:novoCliente.dataVenda,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{dataVenda:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{dataVenda:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Pr\\xF3ximo Vencimento\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:clienteEditando?clienteEditando.proximoVencimento||'':novoCliente.proximoVencimento,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{proximoVencimento:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{proximoVencimento:valor}));}}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"md:col-span-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",rows:\"3\",value:clienteEditando?clienteEditando.observacoes:novoCliente.observacoes,onChange:e=>{const valor=e.target.value;if(clienteEditando){setClienteEditando(_objectSpread(_objectSpread({},clienteEditando),{},{observacoes:valor}));}else{setNovoCliente(_objectSpread(_objectSpread({},novoCliente),{},{observacoes:valor}));}}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:fecharModal,className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:clienteEditando?editarCliente:adicionarCliente,className:\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",children:clienteEditando?'Salvar Altera√ß√µes':'Adicionar Cliente'})]})]})}),modalPagamento&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-4\",children:\"Registrar Pagamento\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600 mb-4\",children:[\"Cliente: \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:clienteSelecionado===null||clienteSelecionado===void 0?void 0:clienteSelecionado.nomeEmpresa})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Valor do Pagamento *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",step:\"0.01\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:pagamentoForm.valor,onChange:e=>setPagamentoForm(_objectSpread(_objectSpread({},pagamentoForm),{},{valor:e.target.value})),placeholder:\"0,00\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-gray-500 mt-1\",children:[\"Valor da parcela: \",clienteSelecionado&&formatarMoeda(clienteSelecionado.valorParcela)]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Data do Pagamento *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:pagamentoForm.data,onChange:e=>setPagamentoForm(_objectSpread(_objectSpread({},pagamentoForm),{},{data:e.target.value}))})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700 mb-1\",children:\"Descri\\xE7\\xE3o\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\",value:pagamentoForm.descricao,onChange:e=>setPagamentoForm(_objectSpread(_objectSpread({},pagamentoForm),{},{descricao:e.target.value})),placeholder:\"Ex: 3\\xAA parcela\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4 mt-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setModalPagamento(false);setClienteSelecionado(null);setPagamentoForm({valor:'',data:new Date().toISOString().split('T')[0],descricao:''});},className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:registrarPagamento,className:\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\",children:\"Registrar Pagamento\"})]})]})}),modalDetalhes&&clienteSelecionado&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-bold mb-6\",children:\"Detalhes do Cliente\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:\"Informa\\xE7\\xF5es B\\xE1sicas\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Respons\\xE1vel:\"}),\" \",clienteSelecionado.nomeResponsavel]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Empresa:\"}),\" \",clienteSelecionado.nomeEmpresa]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Email:\"}),\" \",clienteSelecionado.email]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Telefone:\"}),\" \",clienteSelecionado.telefone]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"C\\xF3digo do Contrato:\"}),\" \",clienteSelecionado.codigoContrato]})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsx(ClientEmailSettings,{cliente:clienteSelecionado})}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:\"Informa\\xE7\\xF5es Financeiras\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Valor Total:\"}),\" \",formatarMoeda(clienteSelecionado.valorTotal)]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Valor Pago:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-green-600\",children:formatarMoeda(clienteSelecionado.valorPago)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Valor Restante:\"}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-red-600\",children:formatarMoeda(clienteSelecionado.valorTotal-clienteSelecionado.valorPago)})]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Parcelas:\"}),\" \",clienteSelecionado.parcelasPagas,\"/\",clienteSelecionado.parcelas]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:\"Valor por Parcela:\"}),\" \",formatarMoeda(clienteSelecionado.valorParcela)]})]})]})})]}),clienteSelecionado.historicosPagamentos&&clienteSelecionado.historicosPagamentos.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700 mb-3\",children:\"Hist\\xF3rico de Pagamentos\"}),/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-full text-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-3 py-2 text-left\",children:\"Data\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-3 py-2 text-left\",children:\"Valor\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-3 py-2 text-left\",children:\"Descri\\xE7\\xE3o\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"divide-y divide-gray-200\",children:clienteSelecionado.historicosPagamentos.map((pagamento,index)=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-3 py-2\",children:formatarData(pagamento.data)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-3 py-2 text-green-600 font-medium\",children:formatarMoeda(pagamento.valor)}),/*#__PURE__*/_jsx(\"td\",{className:\"px-3 py-2\",children:pagamento.descricao})]},index))})]})})]}),clienteSelecionado.observacoes&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-gray-700\",children:\"Observa\\xE7\\xF5es\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-600\",children:clienteSelecionado.observacoes})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end mt-6\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setModalDetalhes(false);setClienteSelecionado(null);},className:\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\",children:\"Fechar\"})})]})}),modalConfirmacao&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg p-6 w-full max-w-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4 mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(AlertCircle,{className:\"w-6 h-6 text-red-600\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-lg font-medium text-gray-900\",children:\"Confirmar Exclus\\xE3o\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"Tem certeza que deseja excluir o cliente \",/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:clienteSelecionado===null||clienteSelecionado===void 0?void 0:clienteSelecionado.nomeEmpresa}),\"? Esta a\\xE7\\xE3o n\\xE3o pode ser desfeita.\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setModalConfirmacao(false);setClienteSelecionado(null);},className:\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\",children:\"Cancelar\"}),/*#__PURE__*/_jsx(\"button\",{onClick:excluirCliente,className:\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\",children:\"Excluir Cliente\"})]})]})})]})});};export default FinancialManager;","map":{"version":3,"names":["React","useState","useEffect","Plus","Search","DollarSign","Users","AlertCircle","CheckCircle","Clock","Filter","Edit","Trash2","Eye","Download","Mail","Send","emailService","Settings","EmailSettingsModal","ClientEmailSettings","DashboardAprimorado","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","EmailManager","_ref","_templates$find","clientes","selectedTemplate","setSelectedTemplate","subject","setSubject","selectedClients","setSelectedClients","loading","setLoading","templates","value","label","sendEmails","length","alert","calcularStatus","cliente","valorPago","valorTotal","proximoVencimento","Date","calcularDiasAtraso","dataVencimento","hoje","vencimento","diferenca","Math","max","ceil","calcularParcelasEmAtraso","status","parcelasRestantes","parcelas","parcelasPagas","diasAtraso","parcelasAtrasadasEstimadas","min","recipients","map","id","find","c","parcelasAtraso","recipient","email","nomeResponsavel","nomeEmpresa","cnpj","valorPendente","concat","toFixed","replace","linkPagamento","console","log","JSON","stringify","template","response","sendBulkEmails","success","statistics","successful","failed","successRate","error","_error$response","_error$response$data","data","message","handleTemplateChange","templateData","t","handleClientToggle","clientId","includes","filter","getClientStatus","text","color","className","children","onChange","e","target","type","placeholder","checked","onClick","disabled","FinancialManager","showEmailSettings","setShowEmailSettings","abaAtiva","setAbaAtiva","setClientes","filtros","setFiltros","busca","modalAberto","setModalAberto","modalPagamento","setModalPagamento","modalDetalhes","setModalDetalhes","modalConfirmacao","setModalConfirmacao","clienteEditando","setClienteEditando","clienteSelecionado","setClienteSelecionado","pagamentoForm","setPagamentoForm","valor","toISOString","split","descricao","formatarCNPJ","numeros","formatarMoedaInput","numero","parseFloat","toLocaleString","minimumFractionDigits","maximumFractionDigits","formatarValorParaEmail","style","currency","parseMoedaParaNumero","toString","novoCliente","setNovoCliente","telefone","dataVenda","codigoContrato","observacoes","dadosSalvos","localStorage","getItem","clientesCarregados","parse","setItem","formatarMoeda","Intl","NumberFormat","format","formatarData","toLocaleDateString","clientesFiltrados","statusFiltro","buscaFiltro","toLowerCase","totais","totalAReceber","reduce","acc","totalRecebido","clientesEmAtraso","totalClientes","adicionarCliente","valorNumerico","valorParcela","parseInt","novoId","_objectSpread","historicosPagamentos","fecharModal","editarCliente","excluirCliente","registrarPagamento","novoValorPago","novasParcelasPagas","floor","novoHistorico","novoProximoVencimento","dataAtual","parcelasPagasAMais","setDate","getDate","exportarRelatorio","relatorio","headers","Object","keys","csvContent","join","row","values","stringValue","String","BOM","blob","Blob","url","window","URL","createObjectURL","a","document","createElement","href","download","body","appendChild","click","removeChild","revokeObjectURL","exportarGoogleSheets","htmlTable","header","encodedData","encodeURIComponent","googleSheetsUrl","navigator","clipboard","writeText","then","open","catch","getStatusColor","getStatusIcon","getStatusText","fill","viewBox","d","isOpen","onClose","width","title","maxLength","cnpjFormatado","valorFormatado","rows","step","pagamento","index"],"sources":["C:/Users/ResTIC16/Desktop/gest-o-financeira/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Plus, Search, DollarSign, Users, AlertCircle, CheckCircle, Clock, Filter, Edit, Trash2, Eye, Download, Mail, Send } from 'lucide-react';\nimport emailService from './services/emailService';\nimport { Settings } from 'lucide-react';\nimport { EmailSettingsModal } from './components/EmailSettingsModal';\nimport ClientEmailSettings from './components/ClientEmailSettings';\nimport DashboardAprimorado from './components/dashboard/DashboardAprimorado';\n\nconst EmailManager = ({ clientes }) => {\n  const [selectedTemplate, setSelectedTemplate] = useState('');\n  const [subject, setSubject] = useState('');\n  const [selectedClients, setSelectedClients] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const templates = [\n    { value: 'primeira-cobranca', label: 'Primeira Cobran√ßa (Notifica√ß√£o Inicial)', subject: 'Notifica√ß√£o de Pend√™ncia Financeira - PROTEQ' },\n    { value: 'cobranca-7dias', label: 'Cobran√ßa Leve (‚â• 7 dias de atraso)', subject: 'Lembrete Amig√°vel: Pagamento em Atraso - PROTEQ' },\n    { value: 'cobranca-15dias', label: 'Cobran√ßa Moderada (‚â• 15 dias de atraso)', subject: '‚ö†Ô∏è Importante: Regulariza√ß√£o Necess√°ria - PROTEQ' },\n    { value: 'cobranca-30dias', label: 'Cobran√ßa Pesada (‚â• 30 dias de atraso)', subject: 'üö® URGENTE: Notifica√ß√£o Final - PROTEQ' },\n    { value: 'solicitacao-contato', label: 'Cliente entrar em contato', subject: 'Entrar em contato conosco - PROTEQ' },\n];\n  const sendEmails = async () => {\n  if (!selectedTemplate || !subject || selectedClients.length === 0) {\n    alert('Por favor, preencha todos os campos e selecione pelo menos um cliente.');\n    return;\n  }\n\n  // FUN√á√ïES AUXILIARES DENTRO DO sendEmails\n  const calcularStatus = (cliente) => {\n    if (cliente.valorPago >= cliente.valorTotal) return 'pago';\n    if (cliente.proximoVencimento && new Date(cliente.proximoVencimento) < new Date()) return 'em_atraso';\n    return 'pendente';\n  };\n\n  const calcularDiasAtraso = (dataVencimento) => {\n    if (!dataVencimento) return 0;\n    const hoje = new Date();\n    const vencimento = new Date(dataVencimento);\n    const diferenca = hoje - vencimento;\n    return Math.max(0, Math.ceil(diferenca / (1000 * 60 * 60 * 24)));\n  };\n\n  const calcularParcelasEmAtraso = (cliente) => {\n    const status = calcularStatus(cliente);\n    if (status !== 'em_atraso') return 0;\n    \n    const parcelasRestantes = cliente.parcelas - cliente.parcelasPagas;\n    const diasAtraso = calcularDiasAtraso(cliente.proximoVencimento);\n    \n    const parcelasAtrasadasEstimadas = Math.min(\n      Math.ceil(diasAtraso / 30),\n      parcelasRestantes\n    );\n    \n    return parcelasAtrasadasEstimadas || 1;\n  };\n\n  setLoading(true);\n  try {\n    const recipients = selectedClients.map(id => {\n      const cliente = clientes.find(c => c.id === id);\n      const parcelasAtraso = calcularParcelasEmAtraso(cliente);\n      \n      const recipient = {\n        email: cliente.email || 'cliente@exemplo.com',\n        nomeResponsavel: cliente.nomeResponsavel,\n        nomeEmpresa: cliente.nomeEmpresa,\n        cnpj: cliente.cnpj || 'N√£o informado',\n        valorPendente: `R$ ${(cliente.valorTotal - cliente.valorPago).toFixed(2).replace('.', ',')}`,\n        parcelasAtraso: parcelasAtraso > 1 ? `${parcelasAtraso} parcelas` : '1 parcela',\n        proximoVencimento: cliente.proximoVencimento || 'N√£o informado',\n        linkPagamento: cliente.linkPagamento || '#' // ‚Üê USA O LINK DO CLIENTE\n      };\n\n      // DEBUG\n      console.log('===== FRONTEND =====');\n      console.log('Cliente:', cliente.nomeEmpresa);\n      console.log('CNPJ:', cliente.cnpj);\n      console.log('Parcelas atraso:', parcelasAtraso);\n      console.log('Recipient:', recipient);\n      console.log('====================');\n\n      return recipient;\n    });\nconsole.log('üì§ PAYLOAD COMPLETO:', JSON.stringify({\n  recipients,\n  subject,\n  template: selectedTemplate\n}, null, 2));\n    const response = await emailService.sendBulkEmails({\n      recipients,\n      subject,\n      template: selectedTemplate\n    });\n\n    if (response.success) {\n      alert(`Emails enviados com sucesso!\\n${response.statistics.successful} enviados\\n${response.statistics.failed} falhas\\nTaxa de sucesso: ${response.statistics.successRate}`);\n      setSelectedClients([]);\n      setSubject('');\n      setSelectedTemplate('');\n    }\n  } catch (error) {\n    alert('Erro ao enviar emails: ' + (error.response?.data?.message || error.message));\n  } finally {\n    setLoading(false);\n  }\n};\n\n  const handleTemplateChange = (template) => {\n    setSelectedTemplate(template);\n    const templateData = templates.find(t => t.value === template);\n    if (templateData && !subject) {\n      setSubject(templateData.subject);\n    }\n  };\n\n  const handleClientToggle = (clientId) => {\n    if (selectedClients.includes(clientId)) {\n      setSelectedClients(selectedClients.filter(id => id !== clientId));\n    } else {\n      setSelectedClients([...selectedClients, clientId]);\n    }\n  };\n\n  const getClientStatus = (cliente) => {\n    if (cliente.valorPago >= cliente.valorTotal) return { text: 'Pago', color: 'bg-green-100 text-green-800' };\n    if (cliente.proximoVencimento && new Date(cliente.proximoVencimento) < new Date()) return { text: 'Em Atraso', color: 'bg-red-100 text-red-800' };\n    return { text: 'Pendente', color: 'bg-yellow-100 text-yellow-800' };\n  };\n\n  return (\n    <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n      <h3 className=\"text-lg font-bold mb-4 flex items-center gap-2\">\n        <Mail className=\"w-5 h-5 text-purple-600\" />\n        Email Marketing\n      </h3>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n        {/* Formul√°rio */}\n        <div className=\"space-y-4\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Template de Email:</label>\n            <select \n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n              value={selectedTemplate}\n              onChange={(e) => handleTemplateChange(e.target.value)}\n            >\n              <option value=\"\">Selecione um template</option>\n              {templates.map(template => (\n                <option key={template.value} value={template.value}>\n                  {template.label}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Assunto do Email:</label>\n            <input \n              type=\"text\"\n              className=\"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n              value={subject}\n              onChange={(e) => setSubject(e.target.value)}\n              placeholder=\"Digite o assunto do email\"\n            />\n          </div>\n\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Selecionar Destinat√°rios:</label>\n            <div className=\"border border-gray-300 rounded-lg p-3 max-h-40 overflow-y-auto\">\n              {clientes.length > 0 ? clientes.map(cliente => {\n                const status = getClientStatus(cliente);\n                return (\n                  <label key={cliente.id} className=\"flex items-center gap-2 p-2 hover:bg-gray-50 rounded cursor-pointer\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedClients.includes(cliente.id)}\n                      onChange={() => handleClientToggle(cliente.id)}\n                    />\n                    <span className=\"text-sm flex-1\">\n                      {cliente.nomeResponsavel} - {cliente.nomeEmpresa}\n                    </span>\n                    <span className={`px-2 py-1 rounded-full text-xs font-medium ${status.color}`}>\n                      {status.text}\n                    </span>\n                  </label>\n                );\n              }) : (\n                <p className=\"text-gray-500 text-center py-4\">Nenhum cliente cadastrado</p>\n              )}\n            </div>\n            <p className=\"text-sm text-gray-500 mt-2\">\n              {selectedClients.length} clientes selecionados\n            </p>\n          </div>\n\n          <div className=\"flex gap-3\">\n            <button\n              onClick={sendEmails}\n              disabled={loading || !selectedTemplate || !subject || selectedClients.length === 0}\n              className=\"flex-1 bg-purple-600 text-white px-4 py-3 rounded-lg hover:bg-purple-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2\"\n            >\n              {loading ? (\n                <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n              ) : (\n                <Send className=\"w-4 h-4\" />\n              )}\n              {loading ? 'Enviando...' : 'Enviar Emails'}\n            </button>\n            \n            <button\n              onClick={() => {\n                setSelectedClients([]);\n                setSubject('');\n                setSelectedTemplate('');\n              }}\n              className=\"px-4 py-3 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50\"\n            >\n              Limpar\n            </button>\n          </div>\n        </div>\n\n        {/* Estat√≠sticas e Informa√ß√µes */}\n        <div className=\"space-y-4\">\n          <div className=\"bg-gray-50 p-4 rounded-lg\">\n            <h4 className=\"font-medium text-gray-700 mb-3\">Estat√≠sticas:</h4>\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\n              <div>\n                <span className=\"text-gray-600\">Total de clientes:</span>\n                <span className=\"font-bold text-blue-600 ml-2\">{clientes.length}</span>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Selecionados:</span>\n                <span className=\"font-bold text-purple-600 ml-2\">{selectedClients.length}</span>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Em atraso:</span>\n                <span className=\"font-bold text-red-600 ml-2\">\n                  {clientes.filter(c => c.proximoVencimento && new Date(c.proximoVencimento) < new Date()).length}\n                </span>\n              </div>\n              <div>\n                <span className=\"text-gray-600\">Pendentes:</span>\n                <span className=\"font-bold text-yellow-600 ml-2\">\n                  {clientes.filter(c => c.valorPago < c.valorTotal).length}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-blue-50 p-4 rounded-lg\">\n            <h4 className=\"font-medium text-blue-800 mb-2\">Como usar:</h4>\n            <ul className=\"text-sm text-blue-700 space-y-1\">\n              <li>‚Ä¢ Escolha um template apropriado</li>\n              <li>‚Ä¢ Personalize o assunto se necess√°rio</li>\n              <li>‚Ä¢ Selecione os clientes desejados</li>\n              <li>‚Ä¢ Clique em \"Enviar Emails\"</li>\n            </ul>\n          </div>\n\n          {selectedTemplate && (\n            <div className=\"bg-green-50 p-4 rounded-lg\">\n              <h4 className=\"font-medium text-green-800 mb-2\">Template Selecionado:</h4>\n              <p className=\"text-sm text-green-700\">\n                {templates.find(t => t.value === selectedTemplate)?.label}\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst FinancialManager = () => {\n  const [showEmailSettings, setShowEmailSettings] = useState(false);\n  const [abaAtiva, setAbaAtiva] = useState('dashboard');\n  // Estado inicial vazio - ser√° carregado do localStorage\n  const [clientes, setClientes] = useState([]);\n\n  const [filtros, setFiltros] = useState({\n    status: 'todos',\n    busca: ''\n  });\n\n  const [modalAberto, setModalAberto] = useState(false);\n  const [modalPagamento, setModalPagamento] = useState(false);\n  const [modalDetalhes, setModalDetalhes] = useState(false);\n  const [modalConfirmacao, setModalConfirmacao] = useState(false);\n  const [clienteEditando, setClienteEditando] = useState(null);\n  const [clienteSelecionado, setClienteSelecionado] = useState(null);\n  \n  const [pagamentoForm, setPagamentoForm] = useState({\n    valor: '',\n    data: new Date().toISOString().split('T')[0],\n    descricao: ''\n  });\n  // Fun√ß√µes de formata√ß√£o\nconst formatarCNPJ = (valor) => {\n  // Remove tudo que n√£o √© n√∫mero\n  const numeros = valor.replace(/\\D/g, '');\n  \n  // Aplica a m√°scara XX.XXX.XXX/XXXX-XX\n  if (numeros.length <= 2) return numeros;\n  if (numeros.length <= 5) return numeros.replace(/(\\d{2})(\\d{0,3})/, '$1.$2');\n  if (numeros.length <= 8) return numeros.replace(/(\\d{2})(\\d{3})(\\d{0,3})/, '$1.$2.$3');\n  if (numeros.length <= 12) return numeros.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{0,4})/, '$1.$2.$3/$4');\n  return numeros.replace(/(\\d{2})(\\d{3})(\\d{3})(\\d{4})(\\d{0,2})/, '$1.$2.$3/$4-$5');\n};\n\nconst formatarMoedaInput = (valor) => {\n  // Remove tudo que n√£o √© n√∫mero\n  const numeros = valor.replace(/\\D/g, '');\n  \n  // Converte para n√∫mero e divide por 100\n  const numero = parseFloat(numeros) / 100;\n  \n  // Formata como moeda brasileira\n  return numero.toLocaleString('pt-BR', {\n    minimumFractionDigits: 2,\n    maximumFractionDigits: 2\n  });\n};\nconst formatarValorParaEmail = (valor) => {\n  return valor.toLocaleString('pt-BR', {\n    style: 'currency',\n    currency: 'BRL'\n  });\n};\nconst parseMoedaParaNumero = (valor) => {\n  // Se j√° for n√∫mero, retorna direto\n  if (typeof valor === 'number') return valor;\n  \n  // Se for string vazia ou undefined, retorna 0\n  if (!valor) return 0;\n  \n  // Remove pontos e substitui v√≠rgula por ponto\n  return parseFloat(valor.toString().replace(/\\./g, '').replace(',', '.')) || 0;\n};\n  const [novoCliente, setNovoCliente] = useState({\n  nomeResponsavel: '',\n  nomeEmpresa: '',\n  email: '',\n  telefone: '',\n  valorTotal: '',\n  parcelas: 1,\n  dataVenda: '',\n  proximoVencimento: '',\n  cnpj: '',\n  codigoContrato: '',\n  linkPagamento: '', // ‚Üê ADICIONAR\n  observacoes: ''\n});\n\n  // NOVO: Carregar dados salvos quando o componente inicia\n  useEffect(() => {\n    const dadosSalvos = localStorage.getItem('financial-manager-clientes');\n    if (dadosSalvos) {\n      try {\n        const clientesCarregados = JSON.parse(dadosSalvos);\n        setClientes(clientesCarregados);\n        console.log('Dados carregados do localStorage:', clientesCarregados.length, 'clientes');\n      } catch (error) {\n        console.error('Erro ao carregar dados salvos:', error);\n        // Se der erro, usar dados exemplo\n        \n      }\n    } else {\n      \n    \n    }\n  }, []);\n\n  // NOVO: Salvar dados sempre que a lista de clientes mudar\n  useEffect(() => {\n    if (clientes.length > 0) {\n      localStorage.setItem('financial-manager-clientes', JSON.stringify(clientes));\n      console.log('Dados salvos no localStorage:', clientes.length, 'clientes');\n    }\n  }, [clientes]);\n\n  const calcularStatus = (cliente) => {\n    if (cliente.valorPago >= cliente.valorTotal) return 'pago';\n    if (cliente.proximoVencimento && new Date(cliente.proximoVencimento) < new Date()) return 'em_atraso';\n    return 'pendente';\n  };\n\n  const formatarMoeda = (valor) => {\n    return new Intl.NumberFormat('pt-BR', {\n      style: 'currency',\n      currency: 'BRL'\n    }).format(valor);\n  };\n\n  const formatarData = (data) => {\n    return new Date(data).toLocaleDateString('pt-BR');\n  };\n\n  const calcularDiasAtraso = (dataVencimento) => {\n    if (!dataVencimento) return 0;\n    const hoje = new Date();\n    const vencimento = new Date(dataVencimento);\n    const diferenca = hoje - vencimento;\n    return Math.max(0, Math.ceil(diferenca / (1000 * 60 * 60 * 24)));\n  };\n  const calcularParcelasEmAtraso = (cliente) => {\n  const status = calcularStatus(cliente);\n  if (status !== 'em_atraso') return 0;\n  \n  const parcelasRestantes = cliente.parcelas - cliente.parcelasPagas;\n  const diasAtraso = calcularDiasAtraso(cliente.proximoVencimento);\n  \n  // Calcula quantas parcelas atrasadas baseado em 30 dias por parcela\n  const parcelasAtrasadasEstimadas = Math.min(\n    Math.ceil(diasAtraso / 30),\n    parcelasRestantes\n  );\n  \n  return parcelasAtrasadasEstimadas || 1;\n};\n\n  const clientesFiltrados = clientes.filter(cliente => {\n    const status = calcularStatus(cliente);\n    const statusFiltro = filtros.status === 'todos' || status === filtros.status;\n    const buscaFiltro = filtros.busca === '' || \n      cliente.nomeResponsavel.toLowerCase().includes(filtros.busca.toLowerCase()) ||\n      cliente.nomeEmpresa.toLowerCase().includes(filtros.busca.toLowerCase());\n    return statusFiltro && buscaFiltro;\n  });\n\n  const totais = {\n    totalAReceber: clientes.reduce((acc, cliente) => acc + (cliente.valorTotal - cliente.valorPago), 0),\n    totalRecebido: clientes.reduce((acc, cliente) => acc + cliente.valorPago, 0),\n    clientesEmAtraso: clientes.filter(cliente => calcularStatus(cliente) === 'em_atraso').length,\n    totalClientes: clientes.length\n  };\n\n  const adicionarCliente = () => {\n  if (!novoCliente.nomeResponsavel || !novoCliente.nomeEmpresa || !novoCliente.valorTotal) {\n    alert('Por favor, preencha os campos obrigat√≥rios');\n    return;\n  }\n\n  const valorNumerico = parseMoedaParaNumero(novoCliente.valorTotal); // ‚Üê ADICIONAR\n  const valorParcela = valorNumerico / parseInt(novoCliente.parcelas); // ‚Üê MUDAR\n  const novoId = Math.max(...clientes.map(c => c.id), 0) + 1;\n  \n  const cliente = {\n    ...novoCliente,\n    id: novoId,\n    valorTotal: valorNumerico, // ‚Üê MUDAR\n    valorPago: 0,\n    parcelasPagas: 0,\n    valorParcela: valorParcela,\n    parcelas: parseInt(novoCliente.parcelas),\n    historicosPagamentos: []\n  };\n  \n  setClientes([...clientes, cliente]);\n  fecharModal();\n  alert('Cliente adicionado e salvo com sucesso!');\n};\n\n  const editarCliente = () => {\n  if (!clienteEditando.nomeResponsavel || !clienteEditando.nomeEmpresa || !clienteEditando.valorTotal) {\n    alert('Por favor, preencha os campos obrigat√≥rios');\n    return;\n  }\n\n  // Se valorTotal j√° for n√∫mero, usa direto. Sen√£o, converte\n  const valorNumerico = typeof clienteEditando.valorTotal === 'number' \n    ? clienteEditando.valorTotal \n    : parseMoedaParaNumero(clienteEditando.valorTotal);\n    \n  const valorParcela = valorNumerico / parseInt(clienteEditando.parcelas);\n  \n  setClientes(clientes.map(cliente => {\n    if (cliente.id === clienteEditando.id) {\n      return {\n        ...clienteEditando,\n        valorTotal: valorNumerico,\n        valorParcela: valorParcela,\n        parcelas: parseInt(clienteEditando.parcelas)\n      };\n    }\n    return cliente;\n  }));\n  fecharModal();\n  alert('Cliente editado e salvo com sucesso!');\n};\n\n  const excluirCliente = () => {\n    setClientes(clientes.filter(cliente => cliente.id !== clienteSelecionado.id));\n    setModalConfirmacao(false);\n    setClienteSelecionado(null);\n    alert('Cliente exclu√≠do com sucesso!');\n  };\n\n  const registrarPagamento = () => {\n  const valorPago = parseFloat(pagamentoForm.valor);\n  if (!valorPago || valorPago <= 0) {\n    alert('Por favor, insira um valor v√°lido');\n    return;\n  }\n\n  setClientes(clientes.map(cliente => {\n    if (cliente.id === clienteSelecionado.id) {\n      const novoValorPago = cliente.valorPago + valorPago;\n      const novasParcelasPagas = Math.floor(novoValorPago / cliente.valorParcela);\n      const novoHistorico = [...(cliente.historicosPagamentos || []), {\n        data: pagamentoForm.data,\n        valor: valorPago,\n        descricao: pagamentoForm.descricao || `Pagamento - ${formatarData(pagamentoForm.data)}`\n      }];\n\n      // CORRE√á√ÉO: Atualizar pr√≥ximo vencimento\n      let novoProximoVencimento = cliente.proximoVencimento;\n      \n      if (novasParcelasPagas > cliente.parcelasPagas && cliente.proximoVencimento) {\n        const dataAtual = new Date(cliente.proximoVencimento);\n        const parcelasPagasAMais = novasParcelasPagas - cliente.parcelasPagas;\n        dataAtual.setDate(dataAtual.getDate() + (30 * parcelasPagasAMais));\n        novoProximoVencimento = dataAtual.toISOString().split('T')[0];\n      }\n\n      return {\n        ...cliente,\n        valorPago: novoValorPago,\n        parcelasPagas: novasParcelasPagas,\n        proximoVencimento: novoProximoVencimento, // ‚Üê LINHA ADICIONADA\n        historicosPagamentos: novoHistorico\n      };\n    }\n    return cliente;\n  }));\n\n  setModalPagamento(false);\n  setPagamentoForm({\n    valor: '',\n    data: new Date().toISOString().split('T')[0],\n    descricao: ''\n  });\n  setClienteSelecionado(null);\n  alert('Pagamento registrado e salvo com sucesso!');\n};\n\n  const exportarRelatorio = () => {\n    // Preparar dados organizados\n    const relatorio = clientes.map(cliente => ({\n      'ID': cliente.id,\n      'Nome do Respons√°vel': cliente.nomeResponsavel,\n      'Nome da Empresa': cliente.nomeEmpresa,\n      'Email': cliente.email || 'N√£o informado',\n      'Telefone': cliente.telefone || 'N√£o informado',\n      'C√≥digo do Contrato': cliente.codigoContrato,\n      'CNPJ': cliente.cnpj || 'N√£o informado',\n      'Valor Total (R$)': cliente.valorTotal.toFixed(2).replace('.', ','),\n      'Valor Pago (R$)': cliente.valorPago.toFixed(2).replace('.', ','),\n      'Valor Restante (R$)': (cliente.valorTotal - cliente.valorPago).toFixed(2).replace('.', ','),\n      'Total de Parcelas': cliente.parcelas,\n      'Parcelas Pagas': cliente.parcelasPagas,\n      'Valor por Parcela (R$)': cliente.valorParcela.toFixed(2).replace('.', ','),\n      'Status': calcularStatus(cliente) === 'pago' ? 'Pago' : \n               calcularStatus(cliente) === 'em_atraso' ? 'Em Atraso' : 'Pendente',\n      'Data da Venda': cliente.dataVenda || 'N√£o informado',\n      'Pr√≥ximo Vencimento': cliente.proximoVencimento || 'N√£o informado',\n      'Dias em Atraso': calcularStatus(cliente) === 'em_atraso' ? \n                        calcularDiasAtraso(cliente.proximoVencimento) : 0,\n      'Observa√ß√µes': cliente.observacoes || 'Nenhuma'\n    }));\n\n    // Criar CSV bem formatado\n    const headers = Object.keys(relatorio[0]);\n    const csvContent = [\n      headers.join(';'), // Usar ; para melhor compatibilidade com Excel brasileiro\n      ...relatorio.map(row => \n        Object.values(row).map(value => {\n          // Tratar valores com aspas e quebras de linha\n          const stringValue = String(value).replace(/\"/g, '\"\"');\n          return `\"${stringValue}\"`;\n        }).join(';')\n      )\n    ].join('\\n');\n\n    // Adicionar BOM para UTF-8 (resolve acentos no Excel)\n    const BOM = '\\uFEFF';\n    const blob = new Blob([BOM + csvContent], { \n      type: 'text/csv;charset=utf-8' \n    });\n    \n    const url = window.URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `relatorio-financeiro-${new Date().toISOString().split('T')[0]}.csv`;\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n    window.URL.revokeObjectURL(url);\n\n    alert('Relat√≥rio exportado com sucesso!\\nO arquivo pode ser aberto no Excel ou Google Sheets.');\n  };\n\n  // NOVA fun√ß√£o para exportar direto para Google Sheets\n  const exportarGoogleSheets = () => {\n    const relatorio = clientes.map(cliente => ({\n      'ID': cliente.id,\n      'Nome do Respons√°vel': cliente.nomeResponsavel,\n      'Nome da Empresa': cliente.nomeEmpresa,\n      'Email': cliente.email || 'N√£o informado',\n      'Telefone': cliente.telefone || 'N√£o informado',\n      'CNPJ': cliente.cnpj || 'N√£o informado',\n      'C√≥digo do Contrato': cliente.codigoContrato,\n      'Valor Total': `R$ ${cliente.valorTotal.toFixed(2).replace('.', ',')}`,\n      'Valor Pago': `R$ ${cliente.valorPago.toFixed(2).replace('.', ',')}`,\n      'Valor Restante': `R$ ${(cliente.valorTotal - cliente.valorPago).toFixed(2).replace('.', ',')}`,\n      'Parcelas': `${cliente.parcelasPagas}/${cliente.parcelas}`,\n      'Valor por Parcela': `R$ ${cliente.valorParcela.toFixed(2).replace('.', ',')}`,\n      'Status': calcularStatus(cliente) === 'pago' ? 'Pago' : \n               calcularStatus(cliente) === 'em_atraso' ? 'Em Atraso' : 'Pendente',\n      'Data da Venda': cliente.dataVenda || 'N√£o informado',\n      'Pr√≥ximo Vencimento': cliente.proximoVencimento || 'N√£o informado',\n      'Dias em Atraso': calcularStatus(cliente) === 'em_atraso' ? \n                        calcularDiasAtraso(cliente.proximoVencimento) : 0,\n      'Observa√ß√µes': cliente.observacoes || 'Nenhuma'\n    }));\n\n    // Converter para formato de tabela HTML\n    const headers = Object.keys(relatorio[0]);\n    const htmlTable = `\n      <table border=\"1\" style=\"border-collapse: collapse; width: 100%;\">\n        <thead>\n          <tr style=\"background-color: #f0f0f0;\">\n            ${headers.map(header => `<th style=\"padding: 8px; text-align: left;\">${header}</th>`).join('')}\n          </tr>\n        </thead>\n        <tbody>\n          ${relatorio.map(row => `\n            <tr>\n              ${Object.values(row).map(value => `<td style=\"padding: 8px;\">${value}</td>`).join('')}\n            </tr>\n          `).join('')}\n        </tbody>\n      </table>\n    `;\n\n    // Criar URL para Google Sheets\n    const encodedData = encodeURIComponent(htmlTable);\n    const googleSheetsUrl = `https://docs.google.com/spreadsheets/create?usp=sharing`;\n    \n    // Copiar dados para √°rea de transfer√™ncia\n    navigator.clipboard.writeText(relatorio.map(row => \n      Object.values(row).join('\\t')\n    ).join('\\n')).then(() => {\n      // Abrir Google Sheets em nova aba\n      window.open(googleSheetsUrl, '_blank');\n      \n      alert(`Dados copiados para √°rea de transfer√™ncia!\n\nPassos para colar no Google Sheets:\n1. Uma nova planilha do Google Sheets foi aberta\n2. Clique na c√©lula A1 \n3. Pressione Ctrl+V (ou Cmd+V no Mac) para colar\n4. Os dados ser√£o organizados automaticamente nas colunas\n\nDica: Voc√™ pode formatar as colunas de valores como moeda depois de colar.`);\n    }).catch(() => {\n      // Fallback se clipboard n√£o funcionar\n      window.open(googleSheetsUrl, '_blank');\n      alert('Google Sheets aberto em nova aba.\\nCopie e cole os dados manualmente da tabela atual.');\n    });\n  };\n\n  const fecharModal = () => {\n  setModalAberto(false);\n  setClienteEditando(null);\n  setNovoCliente({\n    nomeResponsavel: '',\n    nomeEmpresa: '',\n    email: '',\n    cnpj: '',\n    telefone: '',\n    valorTotal: '',\n    parcelas: 1,\n    dataVenda: '',\n    proximoVencimento: '',\n    codigoContrato: '',\n    linkPagamento: '', // ‚Üê ADICIONAR\n    observacoes: ''\n  });\n};\n\n  const getStatusColor = (status) => {\n    switch (status) {\n      case 'pago': return 'text-green-600 bg-green-100';\n      case 'em_atraso': return 'text-red-600 bg-red-100';\n      case 'pendente': return 'text-yellow-600 bg-yellow-100';\n      default: return 'text-gray-600 bg-gray-100';\n    }\n  };\n\n  const getStatusIcon = (status) => {\n    switch (status) {\n      case 'pago': return <CheckCircle className=\"w-4 h-4\" />;\n      case 'em_atraso': return <AlertCircle className=\"w-4 h-4\" />;\n      case 'pendente': return <Clock className=\"w-4 h-4\" />;\n      default: return <Clock className=\"w-4 h-4\" />;\n    }\n  };\n\n  const getStatusText = (status) => {\n    switch (status) {\n      case 'pago': return 'Pago';\n      case 'em_atraso': return 'Em Atraso';\n      case 'pendente': return 'Pendente';\n      default: return 'Pendente';\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6\">\n      <div className=\"max-w-7xl mx-auto\">\n        {/* Header */}\n        <div className=\"flex justify-between items-center mb-8\">\n          <div>\n            <h1 className=\"text-3xl font-bold text-gray-900\">Gerenciamento Financeiro</h1>\n            <p className=\"text-sm text-gray-600 mt-1\">Dados salvos automaticamente no navegador</p>\n          </div>\n          <div className=\"flex gap-3\">\n            <button\n              onClick={exportarGoogleSheets}\n              className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <svg className=\"w-5 h-5\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n                <path d=\"M19.5 2.25h-15v19.5h15V2.25zm-1.5 1.5v3h-12v-3h12zm0 4.5v3h-4.5v-3H18zm-6 0v3h-6v-3h6zm6 4.5v3h-4.5v-3H18zm-6 0v3h-6v-3h6zm6 4.5v3h-12v-3h12z\"/>\n              </svg>\n              Google Sheets\n            </button>\n            <button\n              onClick={exportarRelatorio}\n              className=\"flex items-center gap-2 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors\"\n            >\n              <Download className=\"w-5 h-5\" />\n              Exportar CSV\n            </button>\n            {/* Modal de Configura√ß√µes de Email */}\n<EmailSettingsModal \n  isOpen={showEmailSettings} \n  onClose={() => setShowEmailSettings(false)} \n/>\n            <button\n  onClick={() => setShowEmailSettings(true)}\n  className=\"flex items-center gap-2 bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700 transition-colors\"\n>\n  <Settings className=\"w-5 h-5\" />\n  Config. Emails\n</button>\n          </div>\n        </div>\n        \n        {/* NAVEGA√á√ÉO POR ABAS */}\n        <div className=\"flex gap-2 border-t pt-4 mb-6\">\n          <button\n            onClick={() => setAbaAtiva('dashboard')}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${\n              abaAtiva === 'dashboard'\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            <DollarSign className=\"w-5 h-5\" />\n            Dashboard\n          </button>\n          \n          <button\n            onClick={() => setAbaAtiva('clientes')}\n            className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${\n              abaAtiva === 'clientes'\n                ? 'bg-blue-600 text-white'\n                : 'bg-gray-100 text-gray-700 hover:bg-gray-200'\n            }`}\n          >\n            <Users className=\"w-5 h-5\" />\n            Clientes\n          </button>\n        </div>\n\n        {/* CONTE√öDO DAS ABAS */}\n        {abaAtiva === 'dashboard' && (\n          <DashboardAprimorado clientes={clientes} />\n        )}\n\n        {abaAtiva === 'clientes' && (\n          <>\n            {/* Cards de Resumo */}\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8\">\n          <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-blue-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Total a Receber</p>\n                <p className=\"text-2xl font-bold text-blue-600\">{formatarMoeda(totais.totalAReceber)}</p>\n              </div>\n              <DollarSign className=\"w-8 h-8 text-blue-600\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-green-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Total Recebido</p>\n                <p className=\"text-2xl font-bold text-green-600\">{formatarMoeda(totais.totalRecebido)}</p>\n              </div>\n              <CheckCircle className=\"w-8 h-8 text-green-600\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-red-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Clientes em Atraso</p>\n                <p className=\"text-2xl font-bold text-red-600\">{totais.clientesEmAtraso}</p>\n              </div>\n              <AlertCircle className=\"w-8 h-8 text-red-600\" />\n            </div>\n          </div>\n          \n          <div className=\"bg-white p-6 rounded-lg shadow-md border-l-4 border-gray-500\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-600\">Total de Clientes</p>\n                <p className=\"text-2xl font-bold text-gray-700\">{totais.totalClientes}</p>\n              </div>\n              <Users className=\"w-8 h-8 text-gray-700\" />\n            </div>\n          </div>\n        </div>\n\n        {/* Email Marketing Section */}\n        <EmailManager clientes={clientes} />\n\n        {/* Filtros e Busca */}\n        <div className=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n          <div className=\"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between\">\n            <div className=\"flex flex-col md:flex-row gap-4 flex-1\">\n              <div className=\"relative flex-1 max-w-md\">\n                <Search className=\"w-5 h-5 absolute left-3 top-3 text-gray-400\" />\n                <input\n                  type=\"text\"\n                  placeholder=\"Buscar por nome ou empresa...\"\n                  className=\"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  value={filtros.busca}\n                  onChange={(e) => setFiltros({...filtros, busca: e.target.value})}\n                />\n              </div>\n              \n              <div className=\"flex items-center gap-2\">\n                <Filter className=\"w-5 h-5 text-gray-600\" />\n                <select\n                  className=\"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                  value={filtros.status}\n                  onChange={(e) => setFiltros({...filtros, status: e.target.value})}\n                >\n                  <option value=\"todos\">Todos os Status</option>\n                  <option value=\"pendente\">Pendente</option>\n                  <option value=\"em_atraso\">Em Atraso</option>\n                  <option value=\"pago\">Pago</option>\n                </select>\n              </div>\n            </div>\n            \n            <button\n              onClick={() => setModalAberto(true)}\n              className=\"flex items-center gap-2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors\"\n            >\n              <Plus className=\"w-5 h-5\" />\n              Adicionar Cliente\n            </button>\n          </div>\n        </div>\n\n        {/* Lista de Clientes */}\n        <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div className=\"overflow-x-auto\">\n            <table className=\"w-full\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Cliente</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Contato</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">C√≥digo Contrato</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Valores</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Parcelas</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Status</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">Pr√≥ximo Venc.</th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">A√ß√µes</th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {clientesFiltrados.map((cliente) => {\n                  const status = calcularStatus(cliente);\n                  const diasAtraso = calcularDiasAtraso(cliente.proximoVencimento);\n                  \n                  return (\n                    <tr key={cliente.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div>\n                          <div className=\"text-sm font-medium text-gray-900\">{cliente.nomeResponsavel}</div>\n                          <div className=\"text-sm text-gray-500\">{cliente.nomeEmpresa}</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        <div>\n                          <div>{cliente.email}</div>\n                          <div className=\"text-gray-500\">{cliente.telefone}</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {cliente.codigoContrato}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          <div>Total: {formatarMoeda(cliente.valorTotal)}</div>\n                          <div className=\"text-green-600\">Pago: {formatarMoeda(cliente.valorPago)}</div>\n                          <div className=\"text-red-600\">Restante: {formatarMoeda(cliente.valorTotal - cliente.valorPago)}</div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        <div className=\"flex items-center\">\n                          <div className=\"w-16 bg-gray-200 rounded-full h-2 mr-2\">\n                            <div \n                              className=\"bg-blue-600 h-2 rounded-full\" \n                              style={{width: `${Math.min((cliente.parcelasPagas / cliente.parcelas) * 100, 100)}%`}}\n                            ></div>\n                          </div>\n                          <span>{cliente.parcelasPagas}/{cliente.parcelas}</span>\n                        </div>\n                        <div className=\"text-xs text-gray-500 mt-1\">\n                          {formatarMoeda(cliente.valorParcela)} cada\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium ${getStatusColor(status)}`}>\n                          {getStatusIcon(status)}\n                          {getStatusText(status)}\n                          {status === 'em_atraso' && diasAtraso > 0 && (\n                            <span className=\"ml-1\">({diasAtraso}d)</span>\n                          )}\n                        </span>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-900\">\n                        {cliente.proximoVencimento ? formatarData(cliente.proximoVencimento) : '-'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                        <div className=\"flex items-center gap-2\">\n                          <button\n                            onClick={() => {\n                              setClienteSelecionado(cliente);\n                              setModalDetalhes(true);\n                            }}\n                            className=\"text-blue-600 hover:text-blue-900\"\n                            title=\"Ver detalhes\"\n                          >\n                            <Eye className=\"w-4 h-4\" />\n                          </button>\n                          \n                          {status !== 'pago' && (\n                            <button\n                              onClick={() => {\n                                setClienteSelecionado(cliente);\n                                setPagamentoForm({\n                                  valor: cliente.valorParcela.toString(),\n                                  data: new Date().toISOString().split('T')[0],\n                                  descricao: `${cliente.parcelasPagas + 1}¬™ parcela`\n                                });\n                                setModalPagamento(true);\n                              }}\n                              className=\"text-green-600 hover:text-green-900\"\n                              title=\"Registrar pagamento\"\n                            >\n                              <DollarSign className=\"w-4 h-4\" />\n                            </button>\n                          )}\n                          \n                          <button\n                            onClick={() => {\n                              setClienteEditando({...cliente});\n                              setModalAberto(true);\n                            }}\n                            className=\"text-yellow-600 hover:text-yellow-900\"\n                            title=\"Editar cliente\"\n                          >\n                            <Edit className=\"w-4 h-4\" />\n                          </button>\n                          \n                          <button\n                            onClick={() => {\n                              setClienteSelecionado(cliente);\n                              setModalConfirmacao(true);\n                            }}\n                            className=\"text-red-600 hover:text-red-900\"\n                            title=\"Excluir cliente\"\n                          >\n                            <Trash2 className=\"w-4 h-4\" />\n                          </button>\n                        </div>\n                      </td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n          \n          {clientesFiltrados.length === 0 && (\n            <div className=\"text-center py-12\">\n              <Users className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">Nenhum cliente encontrado</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">Comece adicionando um novo cliente.</p>\n            </div>\n          )}\n        </div>\n        </>\n      )}\n\n      {/* Modais */}\n      {/* Modal Adicionar/Editar Cliente */}\n      {modalAberto && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\n              <h2 className=\"text-xl font-bold mb-6\">\n                {clienteEditando ? 'Editar Cliente' : 'Adicionar Novo Cliente'}\n              </h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nome do Respons√°vel *</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.nomeResponsavel : novoCliente.nomeResponsavel}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, nomeResponsavel: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, nomeResponsavel: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Nome da Empresa *</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.nomeEmpresa : novoCliente.nomeEmpresa}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, nomeEmpresa: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, nomeEmpresa: valor});\n                      }\n                    }}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">CNPJ</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"00.000.000/0000-00\"\n                    maxLength=\"18\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? (clienteEditando.cnpj || '') : (novoCliente.cnpj || '')}\n                    onChange={(e) => {\n                      const cnpjFormatado = formatarCNPJ(e.target.value);\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, cnpj: cnpjFormatado});\n                      } else {\n                        setNovoCliente({...novoCliente, cnpj: cnpjFormatado});\n                      }\n                    }}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Email *</label>\n                  <input\n                    type=\"email\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.email : novoCliente.email}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, email: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, email: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Telefone *</label>\n                  <input\n                    type=\"tel\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.telefone : novoCliente.telefone}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, telefone: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, telefone: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">C√≥digo do Contrato *</label>\n                  <input\n                    type=\"text\"\n                    placeholder=\"Ex: CS 10.2025\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.codigoContrato : novoCliente.codigoContrato}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, codigoContrato: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, codigoContrato: valor});\n                      }\n                    }}\n                  />\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Link de Pagamento (Asaas)</label>\n                  <input\n                    type=\"url\"\n                    placeholder=\"https://www.asaas.com/c/...\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? (clienteEditando.linkPagamento || '') : (novoCliente.linkPagamento || '')}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, linkPagamento: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, linkPagamento: valor});\n                      }\n                    }}\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">Cole o link de cobran√ßa do Asaas</p>\n                </div>\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Valor Total *</label>\n                  <div className=\"relative\">\n                    <span className=\"absolute left-3 top-2.5 text-gray-500\">R$</span>\n                    <input\n                      type=\"text\"\n                      className=\"w-full pl-12 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                      placeholder=\"0,00\"\n                      value={clienteEditando \n                        ? (clienteEditando.valorTotal ? formatarMoedaInput(clienteEditando.valorTotal.toString().replace(/\\D/g, '')) : '')\n                        : (novoCliente.valorTotal || '')}\n                      onChange={(e) => {\n                        const valorFormatado = formatarMoedaInput(e.target.value);\n                        if (clienteEditando) {\n                          setClienteEditando({...clienteEditando, valorTotal: valorFormatado});\n                        } else {\n                          setNovoCliente({...novoCliente, valorTotal: valorFormatado});\n                        }\n                      }}\n                    />\n                  </div>\n                  <p className=\"text-xs text-gray-500 mt-1\">Digite apenas n√∫meros</p>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">N√∫mero de Parcelas *</label>\n                  <input\n                    type=\"number\"\n                    min=\"1\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.parcelas : novoCliente.parcelas}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, parcelas: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, parcelas: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Data da Venda *</label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? clienteEditando.dataVenda : novoCliente.dataVenda}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, dataVenda: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, dataVenda: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Pr√≥ximo Vencimento</label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={clienteEditando ? (clienteEditando.proximoVencimento || '') : novoCliente.proximoVencimento}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, proximoVencimento: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, proximoVencimento: valor});\n                      }\n                    }}\n                  />\n                </div>\n                \n                <div className=\"md:col-span-2\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Observa√ß√µes</label>\n                  <textarea\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    rows=\"3\"\n                    value={clienteEditando ? clienteEditando.observacoes : novoCliente.observacoes}\n                    onChange={(e) => {\n                      const valor = e.target.value;\n                      if (clienteEditando) {\n                        setClienteEditando({...clienteEditando, observacoes: valor});\n                      } else {\n                        setNovoCliente({...novoCliente, observacoes: valor});\n                      }\n                    }}\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end gap-4 mt-6\">\n                <button\n                  onClick={fecharModal}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={clienteEditando ? editarCliente : adicionarCliente}\n                  className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\n                >\n                  {clienteEditando ? 'Salvar Altera√ß√µes' : 'Adicionar Cliente'}\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal Registrar Pagamento */}\n        {modalPagamento && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <h2 className=\"text-xl font-bold mb-4\">Registrar Pagamento</h2>\n              <p className=\"text-sm text-gray-600 mb-4\">\n                Cliente: <span className=\"font-medium\">{clienteSelecionado?.nomeEmpresa}</span>\n              </p>\n              \n              <div className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Valor do Pagamento *</label>\n                  <input\n                    type=\"number\"\n                    step=\"0.01\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={pagamentoForm.valor}\n                    onChange={(e) => setPagamentoForm({...pagamentoForm, valor: e.target.value})}\n                    placeholder=\"0,00\"\n                  />\n                  <p className=\"text-xs text-gray-500 mt-1\">\n                    Valor da parcela: {clienteSelecionado && formatarMoeda(clienteSelecionado.valorParcela)}\n                  </p>\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Data do Pagamento *</label>\n                  <input\n                    type=\"date\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={pagamentoForm.data}\n                    onChange={(e) => setPagamentoForm({...pagamentoForm, data: e.target.value})}\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Descri√ß√£o</label>\n                  <input\n                    type=\"text\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500\"\n                    value={pagamentoForm.descricao}\n                    onChange={(e) => setPagamentoForm({...pagamentoForm, descricao: e.target.value})}\n                    placeholder=\"Ex: 3¬™ parcela\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end gap-4 mt-6\">\n                <button\n                  onClick={() => {\n                    setModalPagamento(false);\n                    setClienteSelecionado(null);\n                    setPagamentoForm({\n                      valor: '',\n                      data: new Date().toISOString().split('T')[0],\n                      descricao: ''\n                    });\n                  }}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={registrarPagamento}\n                  className=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\"\n                >\n                  Registrar Pagamento\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal Detalhes do Cliente */}\n        {modalDetalhes && clienteSelecionado && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto\">\n              <h2 className=\"text-xl font-bold mb-6\">Detalhes do Cliente</h2>\n              \n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-700\">Informa√ß√µes B√°sicas</h3>\n                    <div className=\"mt-2 space-y-2 text-sm\">\n                      <p><span className=\"font-medium\">Respons√°vel:</span> {clienteSelecionado.nomeResponsavel}</p>\n                      <p><span className=\"font-medium\">Empresa:</span> {clienteSelecionado.nomeEmpresa}</p>\n                      <p><span className=\"font-medium\">Email:</span> {clienteSelecionado.email}</p>\n                      <p><span className=\"font-medium\">Telefone:</span> {clienteSelecionado.telefone}</p>\n                      <p><span className=\"font-medium\">C√≥digo do Contrato:</span> {clienteSelecionado.codigoContrato}</p>\n                    </div>\n                  </div>\n                </div>\n              {/* Configura√ß√µes de Email do Cliente */}\n                <div className=\"mt-6\">\n               <ClientEmailSettings cliente={clienteSelecionado} />\n                </div>  \n                <div className=\"space-y-4\">\n                  <div>\n                    <h3 className=\"text-sm font-medium text-gray-700\">Informa√ß√µes Financeiras</h3>\n                    <div className=\"mt-2 space-y-2 text-sm\">\n                      <p><span className=\"font-medium\">Valor Total:</span> {formatarMoeda(clienteSelecionado.valorTotal)}</p>\n                      <p><span className=\"font-medium\">Valor Pago:</span> <span className=\"text-green-600\">{formatarMoeda(clienteSelecionado.valorPago)}</span></p>\n                      <p><span className=\"font-medium\">Valor Restante:</span> <span className=\"text-red-600\">{formatarMoeda(clienteSelecionado.valorTotal - clienteSelecionado.valorPago)}</span></p>\n                      <p><span className=\"font-medium\">Parcelas:</span> {clienteSelecionado.parcelasPagas}/{clienteSelecionado.parcelas}</p>\n                      <p><span className=\"font-medium\">Valor por Parcela:</span> {formatarMoeda(clienteSelecionado.valorParcela)}</p>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {clienteSelecionado.historicosPagamentos && clienteSelecionado.historicosPagamentos.length > 0 && (\n                <div className=\"mt-6\">\n                  <h3 className=\"text-sm font-medium text-gray-700 mb-3\">Hist√≥rico de Pagamentos</h3>\n                  <div className=\"overflow-x-auto\">\n                    <table className=\"w-full text-sm\">\n                      <thead className=\"bg-gray-50\">\n                        <tr>\n                          <th className=\"px-3 py-2 text-left\">Data</th>\n                          <th className=\"px-3 py-2 text-left\">Valor</th>\n                          <th className=\"px-3 py-2 text-left\">Descri√ß√£o</th>\n                        </tr>\n                      </thead>\n                      <tbody className=\"divide-y divide-gray-200\">\n                        {clienteSelecionado.historicosPagamentos.map((pagamento, index) => (\n                          <tr key={index}>\n                            <td className=\"px-3 py-2\">{formatarData(pagamento.data)}</td>\n                            <td className=\"px-3 py-2 text-green-600 font-medium\">{formatarMoeda(pagamento.valor)}</td>\n                            <td className=\"px-3 py-2\">{pagamento.descricao}</td>\n                          </tr>\n                        ))}\n                      </tbody>\n                    </table>\n                  </div>\n                </div>\n              )}\n              \n              {clienteSelecionado.observacoes && (\n                <div className=\"mt-4\">\n                  <h3 className=\"text-sm font-medium text-gray-700\">Observa√ß√µes</h3>\n                  <p className=\"mt-1 text-sm text-gray-600\">{clienteSelecionado.observacoes}</p>\n                </div>\n              )}\n              \n              <div className=\"flex justify-end mt-6\">\n                <button\n                  onClick={() => {\n                    setModalDetalhes(false);\n                    setClienteSelecionado(null);\n                  }}\n                  className=\"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700\"\n                >\n                  Fechar\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Modal Confirmar Exclus√£o */}\n        {modalConfirmacao && (\n          <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n            <div className=\"bg-white rounded-lg p-6 w-full max-w-md\">\n              <div className=\"flex items-center gap-4 mb-4\">\n                <div className=\"flex-shrink-0\">\n                  <AlertCircle className=\"w-6 h-6 text-red-600\" />\n                </div>\n                <div>\n                  <h2 className=\"text-lg font-medium text-gray-900\">Confirmar Exclus√£o</h2>\n                  <p className=\"text-sm text-gray-600\">\n                    Tem certeza que deseja excluir o cliente <span className=\"font-medium\">{clienteSelecionado?.nomeEmpresa}</span>? \n                    Esta a√ß√£o n√£o pode ser desfeita.\n                  </p>\n                </div>\n              </div>\n              \n              <div className=\"flex justify-end gap-4\">\n                <button\n                  onClick={() => {\n                    setModalConfirmacao(false);\n                    setClienteSelecionado(null);\n                  }}\n                  className=\"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50\"\n                >\n                  Cancelar\n                </button>\n                <button\n                  onClick={excluirCliente}\n                  className=\"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700\"\n                >\n                  Excluir Cliente\n                </button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default FinancialManager;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}